{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Saksham\\\\Loop\\\\frontend\\\\src\\\\components\\\\OrdersTable.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Chip, CircularProgress, Alert, Typography } from '@mui/material';\nimport { apiService } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst currency = new Intl.NumberFormat('en-US', {\n  style: 'currency',\n  currency: 'USD'\n});\nexport const OrdersTable = ({\n  storeId\n}) => {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    let mounted = true;\n    const load = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const data = await apiService.getDashboardStore(storeId);\n        if (mounted) setOrders(data.orders || []);\n      } catch (e) {\n        setError('Failed to load orders');\n      } finally {\n        if (mounted) setLoading(false);\n      }\n    };\n    load();\n    return () => {\n      mounted = false;\n    };\n  }, [storeId]);\n  const statusColor = status => {\n    if (status === 'completed') return 'success';\n    if (status === 'failed') return 'error';\n    if (status === 'cancelled') return 'warning';\n    return 'default';\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(Alert, {\n    severity: \"error\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 21\n  }, this);\n  if (!orders.length) return /*#__PURE__*/_jsxDEV(Typography, {\n    children: \"No orders available\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 30\n  }, this);\n  return /*#__PURE__*/_jsxDEV(TableContainer, {\n    component: Paper,\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      size: \"small\",\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Order ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Items\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Processing (s)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Created\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: orders.map(o => {\n          var _o$processing_time_se;\n          return /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: o.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Chip, {\n                label: o.status,\n                color: statusColor(o.status),\n                size: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: currency.format(o.total_amount)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: o.items_count\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: (_o$processing_time_se = o.processing_time_seconds) !== null && _o$processing_time_se !== void 0 ? _o$processing_time_se : '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: new Date(o.created_at).toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)]\n          }, o.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(OrdersTable, \"x7inJL1bZn9UiZl0R10q/W4YjHI=\");\n_c = OrdersTable;\nvar _c;\n$RefreshReg$(_c, \"OrdersTable\");","map":{"version":3,"names":["React","useEffect","useState","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Chip","CircularProgress","Alert","Typography","apiService","jsxDEV","_jsxDEV","currency","Intl","NumberFormat","style","OrdersTable","storeId","_s","orders","setOrders","loading","setLoading","error","setError","mounted","load","data","getDashboardStore","e","statusColor","status","fileName","_jsxFileName","lineNumber","columnNumber","severity","children","length","component","size","map","o","_o$processing_time_se","id","label","color","format","total_amount","items_count","processing_time_seconds","Date","created_at","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/Saksham/Loop/frontend/src/components/OrdersTable.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Chip, CircularProgress, Alert, Typography } from '@mui/material';\r\nimport { apiService } from '../services/api';\r\nimport { Order } from '../types';\r\n\r\ninterface Props {\r\n  storeId: string;\r\n}\r\n\r\nconst currency = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' });\r\n\r\nexport const OrdersTable: React.FC<Props> = ({ storeId }) => {\r\n  const [orders, setOrders] = useState<Order[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    const load = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const data = await apiService.getDashboardStore(storeId);\r\n        if (mounted) setOrders(data.orders || []);\r\n      } catch (e) {\r\n        setError('Failed to load orders');\r\n      } finally {\r\n        if (mounted) setLoading(false);\r\n      }\r\n    };\r\n    load();\r\n    return () => { mounted = false; };\r\n  }, [storeId]);\r\n\r\n  const statusColor = (status: string) => {\r\n    if (status === 'completed') return 'success';\r\n    if (status === 'failed') return 'error';\r\n    if (status === 'cancelled') return 'warning';\r\n    return 'default';\r\n  };\r\n\r\n  if (loading) return <CircularProgress />;\r\n  if (error) return <Alert severity=\"error\">{error}</Alert>;\r\n  if (!orders.length) return <Typography>No orders available</Typography>;\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table size=\"small\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Order ID</TableCell>\r\n            <TableCell>Status</TableCell>\r\n            <TableCell>Amount</TableCell>\r\n            <TableCell>Items</TableCell>\r\n            <TableCell>Processing (s)</TableCell>\r\n            <TableCell>Created</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {orders.map(o => (\r\n            <TableRow key={o.id}>\r\n              <TableCell>{o.id}</TableCell>\r\n              <TableCell><Chip label={o.status} color={statusColor(o.status)} size=\"small\" /></TableCell>\r\n              <TableCell>{currency.format(o.total_amount)}</TableCell>\r\n              <TableCell>{o.items_count}</TableCell>\r\n              <TableCell>{o.processing_time_seconds ?? '-'}</TableCell>\r\n              <TableCell>{new Date(o.created_at).toLocaleString()}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}