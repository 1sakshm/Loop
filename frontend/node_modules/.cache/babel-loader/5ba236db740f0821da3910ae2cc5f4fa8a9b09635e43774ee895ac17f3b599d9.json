{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Grid,Card,CardContent,Typography,CircularProgress,Alert}from'@mui/material';import{apiService}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const currency=new Intl.NumberFormat('en-US',{style:'currency',currency:'USD'});export const SummaryCards=()=>{var _summary$total_stores,_summary$total_orders,_summary$total_revenu;const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[summary,setSummary]=useState(null);useEffect(()=>{let mounted=true;const load=async()=>{setLoading(true);setError(null);try{const data=await apiService.getDashboardSummary();if(mounted)setSummary(data);}catch(e){setError('Failed to load summary');}finally{if(mounted)setLoading(false);}};load();return()=>{mounted=false;};},[]);if(loading)return/*#__PURE__*/_jsx(CircularProgress,{});if(error)return/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error});return/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"Total Stores\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:(_summary$total_stores=summary===null||summary===void 0?void 0:summary.total_stores)!==null&&_summary$total_stores!==void 0?_summary$total_stores:0})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"Total Orders\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:(_summary$total_orders=summary===null||summary===void 0?void 0:summary.total_orders)!==null&&_summary$total_orders!==void 0?_summary$total_orders:0})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"Total Revenue\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:currency.format((_summary$total_revenu=summary===null||summary===void 0?void 0:summary.total_revenue)!==null&&_summary$total_revenu!==void 0?_summary$total_revenu:0)})]})})})]});};","map":{"version":3,"names":["React","useEffect","useState","Grid","Card","CardContent","Typography","CircularProgress","Alert","apiService","jsx","_jsx","jsxs","_jsxs","currency","Intl","NumberFormat","style","SummaryCards","_summary$total_stores","_summary$total_orders","_summary$total_revenu","loading","setLoading","error","setError","summary","setSummary","mounted","load","data","getDashboardSummary","e","severity","children","container","spacing","item","xs","md","variant","total_stores","total_orders","format","total_revenue"],"sources":["C:/Users/Saksham/Loop/frontend/src/components/SummaryCards.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Grid, Card, CardContent, Typography, CircularProgress, Alert } from '@mui/material';\r\nimport { apiService } from '../services/api';\r\n\r\nconst currency = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' });\r\n\r\nexport const SummaryCards: React.FC = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [summary, setSummary] = useState<any>(null);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    const load = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const data = await apiService.getDashboardSummary();\r\n        if (mounted) setSummary(data);\r\n      } catch (e) {\r\n        setError('Failed to load summary');\r\n      } finally {\r\n        if (mounted) setLoading(false);\r\n      }\r\n    };\r\n    load();\r\n    return () => { mounted = false; };\r\n  }, []);\r\n\r\n  if (loading) return <CircularProgress />;\r\n  if (error) return <Alert severity=\"error\">{error}</Alert>;\r\n\r\n  return (\r\n    <Grid container spacing={2}>\r\n      <Grid item xs={12} md={4}>\r\n        <Card>\r\n          <CardContent>\r\n            <Typography variant=\"subtitle2\">Total Stores</Typography>\r\n            <Typography variant=\"h5\">{summary?.total_stores ?? 0}</Typography>\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n\r\n      <Grid item xs={12} md={4}>\r\n        <Card>\r\n          <CardContent>\r\n            <Typography variant=\"subtitle2\">Total Orders</Typography>\r\n            <Typography variant=\"h5\">{summary?.total_orders ?? 0}</Typography>\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n\r\n      <Grid item xs={12} md={4}>\r\n        <Card>\r\n          <CardContent>\r\n            <Typography variant=\"subtitle2\">Total Revenue</Typography>\r\n            <Typography variant=\"h5\">{currency.format(summary?.total_revenue ?? 0)}</Typography>\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,IAAI,CAAEC,WAAW,CAAEC,UAAU,CAAEC,gBAAgB,CAAEC,KAAK,KAAQ,eAAe,CAC5F,OAASC,UAAU,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAE,CAAEC,KAAK,CAAE,UAAU,CAAEH,QAAQ,CAAE,KAAM,CAAC,CAAC,CAEvF,MAAO,MAAM,CAAAI,YAAsB,CAAGA,CAAA,GAAM,KAAAC,qBAAA,CAAAC,qBAAA,CAAAC,qBAAA,CAC1C,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGrB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACsB,KAAK,CAAEC,QAAQ,CAAC,CAAGvB,QAAQ,CAAgB,IAAI,CAAC,CACvD,KAAM,CAACwB,OAAO,CAAEC,UAAU,CAAC,CAAGzB,QAAQ,CAAM,IAAI,CAAC,CAEjDD,SAAS,CAAC,IAAM,CACd,GAAI,CAAA2B,OAAO,CAAG,IAAI,CAClB,KAAM,CAAAC,IAAI,CAAG,KAAAA,CAAA,GAAY,CACvBN,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACd,GAAI,CACF,KAAM,CAAAK,IAAI,CAAG,KAAM,CAAArB,UAAU,CAACsB,mBAAmB,CAAC,CAAC,CACnD,GAAIH,OAAO,CAAED,UAAU,CAACG,IAAI,CAAC,CAC/B,CAAE,MAAOE,CAAC,CAAE,CACVP,QAAQ,CAAC,wBAAwB,CAAC,CACpC,CAAC,OAAS,CACR,GAAIG,OAAO,CAAEL,UAAU,CAAC,KAAK,CAAC,CAChC,CACF,CAAC,CACDM,IAAI,CAAC,CAAC,CACN,MAAO,IAAM,CAAED,OAAO,CAAG,KAAK,CAAE,CAAC,CACnC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIN,OAAO,CAAE,mBAAOX,IAAA,CAACJ,gBAAgB,GAAE,CAAC,CACxC,GAAIiB,KAAK,CAAE,mBAAOb,IAAA,CAACH,KAAK,EAACyB,QAAQ,CAAC,OAAO,CAAAC,QAAA,CAAEV,KAAK,CAAQ,CAAC,CAEzD,mBACEX,KAAA,CAACV,IAAI,EAACgC,SAAS,MAACC,OAAO,CAAE,CAAE,CAAAF,QAAA,eACzBvB,IAAA,CAACR,IAAI,EAACkC,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAAAL,QAAA,cACvBvB,IAAA,CAACP,IAAI,EAAA8B,QAAA,cACHrB,KAAA,CAACR,WAAW,EAAA6B,QAAA,eACVvB,IAAA,CAACL,UAAU,EAACkC,OAAO,CAAC,WAAW,CAAAN,QAAA,CAAC,cAAY,CAAY,CAAC,cACzDvB,IAAA,CAACL,UAAU,EAACkC,OAAO,CAAC,IAAI,CAAAN,QAAA,EAAAf,qBAAA,CAAEO,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEe,YAAY,UAAAtB,qBAAA,UAAAA,qBAAA,CAAI,CAAC,CAAa,CAAC,EACvD,CAAC,CACV,CAAC,CACH,CAAC,cAEPR,IAAA,CAACR,IAAI,EAACkC,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAAAL,QAAA,cACvBvB,IAAA,CAACP,IAAI,EAAA8B,QAAA,cACHrB,KAAA,CAACR,WAAW,EAAA6B,QAAA,eACVvB,IAAA,CAACL,UAAU,EAACkC,OAAO,CAAC,WAAW,CAAAN,QAAA,CAAC,cAAY,CAAY,CAAC,cACzDvB,IAAA,CAACL,UAAU,EAACkC,OAAO,CAAC,IAAI,CAAAN,QAAA,EAAAd,qBAAA,CAAEM,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEgB,YAAY,UAAAtB,qBAAA,UAAAA,qBAAA,CAAI,CAAC,CAAa,CAAC,EACvD,CAAC,CACV,CAAC,CACH,CAAC,cAEPT,IAAA,CAACR,IAAI,EAACkC,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAAAL,QAAA,cACvBvB,IAAA,CAACP,IAAI,EAAA8B,QAAA,cACHrB,KAAA,CAACR,WAAW,EAAA6B,QAAA,eACVvB,IAAA,CAACL,UAAU,EAACkC,OAAO,CAAC,WAAW,CAAAN,QAAA,CAAC,eAAa,CAAY,CAAC,cAC1DvB,IAAA,CAACL,UAAU,EAACkC,OAAO,CAAC,IAAI,CAAAN,QAAA,CAAEpB,QAAQ,CAAC6B,MAAM,EAAAtB,qBAAA,CAACK,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEkB,aAAa,UAAAvB,qBAAA,UAAAA,qBAAA,CAAI,CAAC,CAAC,CAAa,CAAC,EACzE,CAAC,CACV,CAAC,CACH,CAAC,EACH,CAAC,CAEX,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}