{"ast":null,"code":"import React,{useState,useEffect}from'react';import{FormControl,InputLabel,Select,MenuItem,Box,Chip}from'@mui/material';import{apiService}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const StoreSelector=_ref=>{let{onStoreSelect,selectedStore}=_ref;const[stores,setStores]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchStores();},[]);const fetchStores=async()=>{try{const data=await apiService.getStores();setStores(data);}catch(error){console.error('Failed to fetch stores:',error);}finally{setLoading(false);}};const handleChange=storeId=>{const store=stores.find(s=>s.id===storeId);onStoreSelect(store||null);};return/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,disabled:loading,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"store-select-label\",children:\"Select Store\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"store-select-label\",value:(selectedStore===null||selectedStore===void 0?void 0:selectedStore.id)||'',label:\"Select Store\",onChange:e=>handleChange(e.target.value),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:/*#__PURE__*/_jsx(\"em\",{children:\"None\"})}),stores.map(store=>/*#__PURE__*/_jsx(MenuItem,{value:store.id,children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[store.name,/*#__PURE__*/_jsx(Chip,{label:store.platform,size:\"small\",color:\"primary\"}),/*#__PURE__*/_jsx(Chip,{label:store.status,size:\"small\",color:store.status==='online'?'success':'default'})]})},store.id))]})]})});};","map":{"version":3,"names":["React","useState","useEffect","FormControl","InputLabel","Select","MenuItem","Box","Chip","apiService","jsx","_jsx","jsxs","_jsxs","StoreSelector","_ref","onStoreSelect","selectedStore","stores","setStores","loading","setLoading","fetchStores","data","getStores","error","console","handleChange","storeId","store","find","s","id","children","fullWidth","disabled","labelId","value","label","onChange","e","target","map","sx","display","alignItems","gap","name","platform","size","color","status"],"sources":["C:/Users/Saksham/Loop/frontend/src/components/StoreSelector.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  FormControl, \n  InputLabel, \n  Select, \n  MenuItem, \n  Box,\n  Chip\n} from '@mui/material';\nimport { Store } from '../types';\nimport { apiService } from '../services/api';\n\ninterface StoreSelectorProps {\n  onStoreSelect: (store: Store | null) => void;\n  selectedStore: Store | null;\n}\n\nexport const StoreSelector: React.FC<StoreSelectorProps> = ({ \n  onStoreSelect, \n  selectedStore \n}) => {\n  const [stores, setStores] = useState<Store[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchStores();\n  }, []);\n\n  const fetchStores = async () => {\n    try {\n      const data = await apiService.getStores();\n      setStores(data);\n    } catch (error) {\n      console.error('Failed to fetch stores:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (storeId: string) => {\n    const store = stores.find(s => s.id === storeId);\n    onStoreSelect(store || null);\n  };\n\n  return (\n    <Box>\n      <FormControl fullWidth disabled={loading}>\n        <InputLabel id=\"store-select-label\">Select Store</InputLabel>\n        <Select\n          labelId=\"store-select-label\"\n          value={selectedStore?.id || ''}\n          label=\"Select Store\"\n          onChange={(e) => handleChange(e.target.value)}\n        >\n          <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem>\n          {stores.map((store) => (\n            <MenuItem key={store.id} value={store.id}>\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                {store.name}\n                <Chip \n                  label={store.platform} \n                  size=\"small\" \n                  color=\"primary\"\n                />\n                <Chip \n                  label={store.status} \n                  size=\"small\" \n                  color={store.status === 'online' ? 'success' : 'default'}\n                />\n              </Box>\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    </Box>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}