{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Saksham\\\\Loop\\\\frontend\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Grid, Typography, Box, Alert } from '@mui/material';\nimport { StoreSelector } from './components/StoreSelector';\nimport { MetricsCards } from './components/MetricsCards';\nimport { HealthIndicator } from './components/HealthIndicator';\nimport { AnomalyAlerts } from './components/AnomalyAlerts';\nimport { SummaryCards } from './components/SummaryCards';\nimport { StoreList } from './components/StoreList';\nimport { OrdersTable } from './components/OrdersTable';\nimport { apiService } from './services/api';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  var _selectedStore$id;\n  const [selectedStore, setSelectedStore] = useState(null);\n  const [metrics, setMetrics] = useState(null);\n  const [healthScore, setHealthScore] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Fetch metrics when store is selected\n  useEffect(() => {\n    if (selectedStore) {\n      fetchStoreData(selectedStore.id);\n      // Set up interval to refresh data every 30 seconds\n      const interval = setInterval(() => {\n        fetchStoreData(selectedStore.id);\n      }, 30000);\n      return () => clearInterval(interval);\n    }\n  }, [selectedStore]);\n  const fetchStoreData = async storeId => {\n    setLoading(true);\n    setError(null);\n    try {\n      const metricsData = await apiService.getStoreMetrics(storeId);\n      const healthData = await apiService.getHealthScore(storeId);\n      setMetrics(metricsData);\n      setHealthScore(healthData);\n    } catch (err) {\n      setError('Failed to fetch store data');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"xl\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        py: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: \"Restaurant Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(SummaryCards, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(StoreList, {\n            onSelect: setSelectedStore,\n            selectedId: (_selectedStore$id = selectedStore === null || selectedStore === void 0 ? void 0 : selectedStore.id) !== null && _selectedStore$id !== void 0 ? _selectedStore$id : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(StoreSelector, {\n            onStoreSelect: setSelectedStore,\n            selectedStore: selectedStore\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), selectedStore && /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(HealthIndicator, {\n            storeId: selectedStore.id,\n            healthScore: healthScore,\n            loading: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), selectedStore && /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 8,\n          children: /*#__PURE__*/_jsxDEV(MetricsCards, {\n            metrics: metrics,\n            loading: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), selectedStore && /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(AnomalyAlerts, {\n            storeId: selectedStore.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), selectedStore && /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(OrdersTable, {\n            storeId: selectedStore.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"3mv1nowCN/KYi55rmYOMoBIIMbM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Container","Grid","Typography","Box","Alert","StoreSelector","MetricsCards","HealthIndicator","AnomalyAlerts","SummaryCards","StoreList","OrdersTable","apiService","jsxDEV","_jsxDEV","App","_s","_selectedStore$id","selectedStore","setSelectedStore","metrics","setMetrics","healthScore","setHealthScore","loading","setLoading","error","setError","fetchStoreData","id","interval","setInterval","clearInterval","storeId","metricsData","getStoreMetrics","healthData","getHealthScore","err","console","maxWidth","children","sx","py","variant","component","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","severity","mb","container","spacing","item","xs","onSelect","selectedId","onStoreSelect","md","_c","$RefreshReg$"],"sources":["C:/Users/Saksham/Loop/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Grid, Typography, Box, Alert } from '@mui/material';\nimport { StoreSelector } from './components/StoreSelector';\nimport { MetricsCards } from './components/MetricsCards';\nimport { HealthIndicator } from './components/HealthIndicator';\nimport { OrdersFeed } from './components/OrdersFeed';\nimport { AnomalyAlerts } from './components/AnomalyAlerts';\nimport { SummaryCards } from './components/SummaryCards';\nimport { StoreList } from './components/StoreList';\nimport { OrdersTable } from './components/OrdersTable';\nimport { apiService } from './services/api';\nimport { Store, StoreMetrics, HealthScore } from './types';\nimport './App.css';\n\nfunction App() {\n  const [selectedStore, setSelectedStore] = useState<Store | null>(null);\n  const [metrics, setMetrics] = useState<StoreMetrics | null>(null);\n  const [healthScore, setHealthScore] = useState<HealthScore | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Fetch metrics when store is selected\n  useEffect(() => {\n    if (selectedStore) {\n      fetchStoreData(selectedStore.id);\n      // Set up interval to refresh data every 30 seconds\n      const interval = setInterval(() => {\n        fetchStoreData(selectedStore.id);\n      }, 30000);\n      \n      return () => clearInterval(interval);\n    }\n  }, [selectedStore]);\n\n  const fetchStoreData = async (storeId: string) => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const metricsData = await apiService.getStoreMetrics(storeId);\n      const healthData = await apiService.getHealthScore(storeId);\n      setMetrics(metricsData);\n      setHealthScore(healthData);\n    } catch (err) {\n      setError('Failed to fetch store data');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"xl\">\n      <Box sx={{ py: 3 }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n          Restaurant Dashboard\n        </Typography>\n        \n        {error && (\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\n            {error}\n          </Alert>\n        )}\n\n        <Grid container spacing={3}>\n          {/* Summary */}\n          <Grid item xs={12}>\n            <SummaryCards />\n          </Grid>\n\n          {/* Store List */}\n          <Grid item xs={12}>\n            <StoreList onSelect={setSelectedStore} selectedId={selectedStore?.id ?? null} />\n          </Grid>\n          {/* Store Selector */}\n          <Grid item xs={12}>\n            <StoreSelector \n              onStoreSelect={setSelectedStore}\n              selectedStore={selectedStore}\n            />\n          </Grid>\n\n          {/* Health Score */}\n          {selectedStore && (\n            <Grid item xs={12} md={4}>\n              <HealthIndicator \n                storeId={selectedStore.id}\n                healthScore={healthScore}\n                loading={loading}\n              />\n            </Grid>\n          )}\n\n          {/* Metrics Cards */}\n          {selectedStore && (\n            <Grid item xs={12} md={8}>\n              <MetricsCards \n                metrics={metrics}\n                loading={loading}\n              />\n            </Grid>\n          )}\n\n          {/* Anomaly Alerts */}\n          {selectedStore && (\n            <Grid item xs={12} md={6}>\n              <AnomalyAlerts \n                storeId={selectedStore.id}\n              />\n            </Grid>\n          )}\n\n          {/* Orders Table (replaces OrdersFeed) */}\n          {selectedStore && (\n            <Grid item xs={12} md={6}>\n              <OrdersTable storeId={selectedStore.id} />\n            </Grid>\n          )}\n        </Grid>\n      </Box>\n    </Container>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}